Objective -> To understand the consequences fo passing wrong passphrase in 4 way hadnshake

What Happens During the 4-Way Handshake?

	The handshake involves the following steps:

	    Step 1: AP sends a nonce to the client.

	    Step 2: Client sends its nonce along with a MIC (Message Integrity Code) for verification.

	    Step 3: AP sends the pairwise transient key (PTK) to the client.

	    Step 4: Client confirms the receipt of the PTK.

What Happens if the Passphrase is Incorrect?

	1. Incorrect PMK Generation:

    	 - A wrong passphrase leads to different PMKs being generated by the client and AP. This causes mismatched PTKs and MICs, preventing correct verification and decryption during the handshake.

    2. Handshake Failure:

    	 - Due to mismatched PMKs, the handshake fails because the client and AP cannot synchronize their session keys, preventing the client from confirming receipt of the PTK.

    3. Connection Rejection:

    	 - After a failed handshake, the AP will either reject the connection or disconnect the client, and the client will receive an authentication error or failure message.

    4. Security Prevention:

    	 - The incorrect passphrase acts as a security check, ensuring only devices with the correct passphrase can generate the right PMK and connect to the network, blocking unauthorized access.

Importance:

	- The 4-way handshake ensures that even if an attacker intercepts the handshake, they cannot successfully establish a connection without the correct passphrase (because they cannot generate the correct PMK).

	- The failure of the handshake in the case of an incorrect passphrase is part of WPA2â€™s security design, preventing unauthorized access and ensuring only devices with the correct passphrase can join the network.


Conclusion:

	If the wrong passphrase is entered during the 4-way handshake:

	    The handshake will fail.

	    The client and access point will not be able to generate matching session keys (PTK).

	    The client will not be able to connect to the network, and the connection attempt will be rejected.


